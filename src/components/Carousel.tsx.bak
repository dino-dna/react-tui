// We let the contrib.carousel manage state, re-rendering happens via move method that triggers component update
import * as React from 'react'
class Carousel extends React.Component<any, any> {
  constructor(props) {
    super(props);
    this.state = {
      page: 0,
    };
  }

  componentDidMount() {
    this.carousel = new contrib.carousel(this.props.children, this.props);
    this.carousel.move = () => {
      this.setState({
        page: this.carousel.currPage,
      });
    };
    this.carousel.start();
  }

  componentDidUpdate() {
    this.props.screen.render();
  }

  render() {
    return this.props.children[this.state.page];
  }
}
